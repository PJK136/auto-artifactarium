syntax = "proto3";

message Unk {

}

message PacketHead {
	uint32 packet_id = 1;
	uint32 rpc_id = 2;
	uint32 client_sequence_id = 3;
	uint32 enet_channel_id = 4;
	uint32 enet_is_reliable = 5;
	uint64 sent_ms = 6;
	uint32 user_id = 11;
	uint32 user_ip = 12;
	uint32 user_session_id = 13;
	uint64 recv_time_ms = 21;
	uint32 rpc_begin_time_ms = 22;
	map<uint32, uint32> ext_map = 23;
	uint32 sender_app_id = 24;
	uint32 source_service = 31;
	uint32 target_service = 32;
	map<uint32, uint32> service_app_id_map = 33;
	bool is_set_game_thread = 34;
	uint32 game_thread_index = 35;
}

message CountDownDelete {
    map<uint32, uint32> delete_time_num_map = 1;
    uint32 config_count_down_time = 2;
}

message DateTimeDelete {
    uint32 delete_time = 1;
}

message DelayWeekCountDownDelete {
    map<uint32, uint32> delete_time_num_map = 1;
    uint32 config_delay_week = 2;
    uint32 config_count_down_time = 3;
}

message MaterialDeleteInfo {
    bool delete_time_num_map = 1;
    oneof delete_info {
        CountDownDelete count_down_delete = 2;
        DateTimeDelete date_delete = 3;
        DelayWeekCountDownDelete delay_week_count_down_delete = 4;
    }
}

message Material {
    uint32 count = 1;
    MaterialDeleteInfo delete_info = 2;
}

message Reliquary {
    uint32 level = 1;
    uint32 exp = 2;
    uint32 promote_level = 3;
    uint32 main_prop_id = 4;
    repeated uint32 append_prop_id_list = 5;
}

message Weapon {
    uint32 level = 1;
    uint32 exp = 2;
    uint32 promote_level = 3;
    map<uint32, uint32> affix_map = 4;
    bool unknown_field = 5;
}

message Equip {
    bool is_locked = 3;
    oneof detail {
        Reliquary reliquary = 1;
        Weapon weapon = 2;
    }
}

message Furniture {
    uint32 count = 1;
}

message Item {
    uint32 item_id = 1;
    uint64 guid = 2;
    oneof detail {
        Material material = 5;
        Equip equip = 6;
        Furniture furniture = 7;
    }
}

message PacketWithItems {
	repeated Item items = 10;
}
